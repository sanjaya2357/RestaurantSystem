{"ast":null,"code":"var _jsxFileName = \"/home/user/MyFolder/RestaurantApplicationproject/src/Components/Foodlist.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Foodlist = _ref => {\n  _s();\n  let {\n    items,\n    title\n  } = _ref;\n  let [ordersId, setOrdersId] = useState([]);\n  useEffect(() => {\n    let orders = localStorage.getItem(\"orders\");\n    orders = JSON.parse(orders);\n    let o = orders.map(v => {\n      return v.id;\n    });\n    setOrdersId(o);\n    console.log(ordersId);\n  }, []);\n  let handleOrders = id => {\n    fetch(\"http://localhost:4000/items/\" + id).then(res => res.json()).then(data => {\n      let newOrders = localStorage.getItem(\"orders\");\n      newOrders = JSON.parse(newOrders);\n      newOrders.push(data);\n      newOrders = JSON.stringify(newOrders);\n      localStorage.setItem(\"orders\", newOrders);\n    });\n  };\n  let handlCancelOrders = id => {\n    let olderOrders = localStorage.getItem(\"orders\");\n    olderOrders = JSON.parse(olderOrders);\n    let start = olderOrders.findIndex(v => {\n      return v.id == id;\n    });\n    olderOrders.splice(start, 1);\n    olderOrders = JSON.stringify(olderOrders);\n    localStorage.setItem(\"orders\", olderOrders);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\" \", title, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"food-list\",\n      style: {\n        marginTop\n      },\n      children: items.map(food => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"food\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/fooddetails${food.id}`,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: food.pic,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: food.foodName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: food.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 17\n          }, this), !ordersId.includes(food.id) && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              handleOrders(food.id);\n            },\n            children: \"Add to order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 49\n          }, this), ordersId.includes(food.id) && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              handlCancelOrders(food.id);\n            },\n            children: \"Remove  order\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 50\n          }, this)]\n        }, food.foodName, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Foodlist, \"mEOdIp0QCznMms4sGsYdjvFv1/o=\");\n_c = Foodlist;\nexport default Foodlist;\nvar _c;\n$RefreshReg$(_c, \"Foodlist\");","map":{"version":3,"names":["useEffect","useState","Link","Foodlist","items","title","ordersId","setOrdersId","orders","localStorage","getItem","JSON","parse","o","map","v","id","console","log","handleOrders","fetch","then","res","json","data","newOrders","push","stringify","setItem","handlCancelOrders","olderOrders","start","findIndex","splice","marginTop","food","pic","foodName","price","includes"],"sources":["/home/user/MyFolder/RestaurantApplicationproject/src/Components/Foodlist.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nconst Foodlist = ({ items, title }) => {\r\n\r\n  \r\n  let[ordersId, setOrdersId] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let orders = localStorage.getItem(\"orders\");\r\n    orders =JSON.parse(orders)\r\n    let o = orders.map((v)=>{return v.id})\r\n    setOrdersId(o);\r\n    console.log(ordersId);\r\n  } ,[])\r\n\r\n  let handleOrders = ( id ) => {\r\n    fetch(\"http://localhost:4000/items/\"+id)\r\n    .then(res =>res.json())\r\n    .then( (data) => {\r\n      let newOrders = localStorage.getItem(\"orders\");\r\n      newOrders = JSON.parse(newOrders);\r\n      newOrders.push(data);\r\n      newOrders = JSON.stringify(newOrders);\r\n      localStorage.setItem(\"orders\" , newOrders)\r\n    })\r\n  }\r\n\r\n    let handlCancelOrders = ( id ) => {\r\n        let olderOrders = localStorage.getItem(\"orders\");\r\n        olderOrders = JSON.parse(olderOrders);\r\n        let start = olderOrders.findIndex((v) =>{return v.id ==id})\r\n        olderOrders.splice(start ,1);\r\n        olderOrders = JSON.stringify(olderOrders);\r\n        localStorage.setItem(\"orders\" , olderOrders)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h1> {title} </h1>\r\n\r\n      <div className=\"food-list\" style={{marginTop}}>\r\n        {\r\n          items.map((food) => {\r\n            return (\r\n              <div className=\"food\" key={food.foodName}>\r\n                <Link to={`/fooddetails${food.id}`}>\r\n                  <img src={food.pic}  alt=\"\" />\r\n                  <h2>{food.foodName}</h2>\r\n                  <h4>{food.price}</h4>\r\n\r\n                </Link>\r\n                {/* <button onClick={() =>{handleOrders(food.id)}}>Add to order</button> */}\r\n\r\n               { !ordersId.includes(food.id) && <button onClick={() =>{handleOrders(food.id)}}>Add to order</button>}\r\n\r\n                { ordersId.includes(food.id) &&  <button onClick={() =>{handlCancelOrders(food.id)}}>Remove  order</button>}\r\n\r\n              </div>\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Foodlist;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}